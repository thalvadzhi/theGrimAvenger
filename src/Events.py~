import sys

from pygame.math import Vector2 as Vector
import pygame


class Events:

    def __init__(self, envirment):
        self.envirment = envirment
        self.cursor_left_button_is_down = False
        self.cursor_right_button_is_down = False
        self.cursor_events = []
        self.cursor_location_px = (0, 0)
        self.number_inputs = []
        self.letter_inputs = []
        self.collisions = []
        self.special_key_input = set()

    def get_user_input(self):
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                sys.exit()

            elif event.type == pygame.KEYDOWN:
                if event.key == pygame.K_ESCAPE:
                    self.special_key_input.append(pygame.K_ESCAPE)
                elif event.key == pygame.K_1:
                    self.number_inputs.append(1)
                elif event.key == pygame.K_2:
                    self.number_inputs.append(2)
                elif event.key == pygame.K_3:
                    self.number_inputs.append(3)
                elif event.key == pygame.K_4:
                    self.number_inputs.append(4)
                elif event.key == pygame.K_5:
                    self.number_inputs.append(5)
                elif event.key == pygame.K_6:
                    self.number_inputs.append(6)
                elif event.key == pygame.K_7:
                    self.number_inputs.append(7)
                elif event.key == pygame.K_8:
                    self.number_inputs.append(8)
                elif event.key == pygame.K_9:
                    self.number_inputs.append(9)
                elif event.key == pygame.K_0:
                    self.number_inputs.append(0)

                # movement
                elif event.key == pygame.K_a:
                    self.letter_inputs.append(('A', True))
                elif event.key == pygame.K_s:
                    self.letter_inputs.append(('S', True))
                elif event.key == pygame.K_w:
                    self.letter_inputs.append(('W', True))
                elif event.key == pygame.K_d:
                    self.letter_inputs.append(('D', True))

                elif event.key == pygame.K_LEFT:
                    self.special_key_input.append((pygame.K_LEFT, True))
                elif event.key == pygame.K_RIGHT:
                    self.special_key_input.append((pygame.K_RIGHT, True))
                elif event.key == pygame.K_UP:
                    self.special_key_input.append((pygame.K_UP, True))
                elif event.key == pygame.K_DOWN:
                    self.special_key_input.append((pygame.K_DOWN, True))

                # special keys
                elif event.key == pygame.K_SPACE:
                    self.special_key_input.append(pygame.K_SPACE)

                else:
                    pass

            # Might neet to add detection for releasing arrow keys and
            # a, s, d, w for continous motion
            elif (event.type == pygame.KEYUP):

                if event.key == pygame.K_a:
                    self.letter_inputs.append(('A', False))
                elif event.key == pygame.K_s:
                    self.letter_inputs.append(('S', False))
                elif event.key == pygame.K_w:
                    self.letter_inputs.append(('W', False))
                elif event.key == pygame.K_d:
                    self.letter_inputs.append(('D', False))

                elif event.key == pygame.K_LEFT:
                    self.special_key_input.append((pygame.K_LEFT, False))
                elif event.key == pygame.K_RIGHT:
                    self.special_key_input.append((pygame.K_RIGHT, False))
                elif event.key == pygame.K_UP:
                    self.special_key_input.append((pygame.K_UP, False))
                elif event.key == pygame.K_DOWN:
                    self.special_key_input.append((pygame.K_DOWN, False))

        self.cursor_location_px = pygame.mouse.get_pos()
